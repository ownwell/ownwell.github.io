<!DOCTYPE html>
<html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init">
<head>
  <meta charset="utf-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <link rel="icon" href="/favicon.ico">
  
  <title>cyning | Kotlin学习01-基础</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox-1.3.4.css">
  <!--在这里倒入jquery 方便处理部分页面的jquery-->
  <script src="https://cdn.staticfile.org/jquery/1.7/jquery.min.js" type="text/javascript" ></script>
</head>

<body>
	<header class="site-header navfixed-false">
  <div class="container">
      <h1><a href="/" title="cyning"><span class="octicon octicon-mark-github"></span> cyning</a></h1>
      <nav class="site-header-nav" role="navigation">
        
              
              <a href="/"  class=" site-header-nav-item hvr-underline-from-center" title="Home">Home</a>
        
              
              <a href="/categories/"  class=" site-header-nav-item hvr-underline-from-center" title="Category">Category</a>
        
              
              <a href="/open-source/"  class=" site-header-nav-item hvr-underline-from-center" title="Open-Source">Open-Source</a>
        
              
              <a href="/message/"  class=" site-header-nav-item hvr-underline-from-center" title="Message">Message</a>
        
      </nav>
  </div>
</header>

	
<section class="collection-head geopattern" data-pattern-id="Kotlin学习01-基础" >
    <div class="container">
        <div class="collection-title">
            <h1 class="collection-header">
                Kotlin学习01-基础
            </h1>
            
                <div class="collection-info">
                    <span class="meta-info">
                        <span class="octicon octicon-calendar"></span>
                        <time datetime="2018-02-26T06:15:55.000Z" itemprop="datePublished">2018-02-26</time>
                    </span>
                    
                        <span class="meta-info">
                            <span class="octicon octicon-file-directory"></span>
                            <a href='/categories/Kotlin/' title=''>Kotlin</a>
                        </span>
                    
                </div>
            
        </div>
    </div>
</section>
	<section class="container">
    <div class="columns">
        <div class="column  three-fourths " >
            <article class="article-content markdown-body">
                <p>kotlin的学习笔记。<br><a id="more"></a></p>
<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="函数-变量"><a href="#函数-变量" class="headerlink" title="函数 变量"></a>函数 变量</h2><ol>
<li>main函数可以独立于class</li>
<li><p>静态函数<br>类的静态函数，需要通过将函数放入到companion object的大括号内。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Static</span> </span>&#123;</div><div class="line">    companion object &#123;</div><div class="line">       <span class="function">fun <span class="title">add</span><span class="params">( a: Int,  b:Int)</span>:Int </span>=  (</div><div class="line">             a + b</div><div class="line">               )</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    Static.add(<span class="number">1</span>,<span class="number">2</span>);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>字符串模板</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    println(<span class="string">"Hello, $&#123;if (args.size &gt; 0) args[0] else "</span>someone<span class="string">"&#125;!"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>常量用val，变量用var </p>
<h2 id="类和属性"><a href="#类和属性" class="headerlink" title="类和属性"></a>类和属性</h2></li>
<li><p>自定义的获取器</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">class Rectangle(val height: Int, val width: Int) &#123;</div><div class="line">    val isSquare: Boolean</div><div class="line">        get() &#123;    // 属性的获取函数声明</div><div class="line">            return height == width</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Kotlin源代码布局</p>
<ol>
<li>Kotlin并没有在导入类和函数之间做区别,可以直接import方法，类似python和ReactJs的用法。</li>
<li>可以把多个类放到同一个文件中并且可以为文件选择任意的名字，弱化了包的概念</li>
</ol>
</li>
</ol>
<h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><p>枚举和java中的有很大的相似之处，可以自己定义参数。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">enum</span> class <span class="title">Color</span><span class="params">(val r :Int, val g :Int, val b :Int)</span> </span>&#123;<span class="comment">// 1 声明枚举常量的属性</span></div><div class="line">    RED(<span class="number">255</span>, <span class="number">0</span>, <span class="number">9</span>), ORANGE(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="comment">// 2 当每个常量被创建时指定属性值</span></div><div class="line"></div><div class="line">    YELLOW(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>), GREEN(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), BLUE(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>),</div><div class="line"></div><div class="line">    INDIGO(<span class="number">75</span>, <span class="number">0</span>, <span class="number">130</span>), VIOLET(<span class="number">238</span>, <span class="number">130</span>, <span class="number">238</span>); <span class="comment">// 3 分号（;）在这里是必须的</span></div><div class="line"></div><div class="line">    <span class="function">fun <span class="title">rgb</span><span class="params">()</span> </span>= (r * <span class="number">256</span> + g) * <span class="number">256</span> + b        <span class="comment">// 4 在枚举类中定义了一个方法</span></div></pre></td></tr></table></figure></p>
<p>不同之处在于：</p>
<ol>
<li>enum class 来标识是枚举</li>
<li>在枚举中的常量，需要用分号隔开，kotlin中唯一一处需要必须用分开的地方<h2 id="when"><a href="#when" class="headerlink" title="when"></a>when</h2>when在处理枚举时，有点类似于java的switch-case，不过在kotlin中可以直接使用表达式函数。</li>
</ol>
<h3 id="带参数"><a href="#带参数" class="headerlink" title="带参数"></a>带参数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"> <span class="function">fun <span class="title">getMnmonic</span><span class="params">(color: Color)</span> </span>=        <span class="comment">// 1 直接返回一个when表达式</span></div><div class="line">            when (color) &#123;                    <span class="comment">// 2 如果颜色等于枚举常量，返回对应的字符串</span></div><div class="line">                Color.RED -&gt; <span class="string">"Richard"</span></div><div class="line">                Color.ORANGE -&gt; <span class="string">"Of"</span></div><div class="line">                Color.YELLOW -&gt; <span class="string">"York"</span></div><div class="line">                Color.GREEN -&gt; <span class="string">"Grave"</span></div><div class="line">                Color.BLUE -&gt; <span class="string">"Battle"</span></div><div class="line">                Color.INDIGO -&gt; <span class="string">"In"</span></div><div class="line">                Color.VIOLET -&gt; <span class="string">"Vain"</span></div><div class="line">                </div><div class="line">                <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> Exception(<span class="string">"Dirty color"</span>)  <span class="comment">// 3 如果没有一个分支被匹配，将执行该语句</span></div><div class="line">            &#125;</div><div class="line"></div><div class="line">`</div></pre></td></tr></table></figure>
<p>对应多个条件满足同一个返回结果，可以：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Color.RED, Color.ORANGE, Color.YELLOW -&gt; <span class="string">"warm"</span></div></pre></td></tr></table></figure></p>
<p>还有一个分支是默认分支，可以通过else的方式返回。</p>
<h3 id="不带参数"><a href="#不带参数" class="headerlink" title="不带参数"></a>不带参数</h3><p>对于多个参数的，每次都要写参数，会很多余，可以直接不用参数。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">when &#123;    <span class="comment">// 不带参数的when</span></div><div class="line">       (c1 == RED &amp;&amp; c2 == YELLOW) ||</div><div class="line">       (c1 == YELLOW &amp;&amp; c2 == RED) -&gt;</div><div class="line">           ORANGE</div><div class="line"></div><div class="line">       (c1 == YELLOW &amp;&amp; c2 == BLUE) ||</div><div class="line">       (c1 == BLUE &amp;&amp; c2 == YELLOW) -&gt;</div><div class="line">           GREEN</div><div class="line"></div><div class="line">       (c1 == BLUE &amp;&amp; c2 == VIOLET) ||</div><div class="line">       (c1 == VIOLET &amp;&amp; c2 == BLUE) -&gt;</div><div class="line">           INDIGO</div><div class="line"></div><div class="line">       <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> Exception(<span class="string">"Dirty color"</span>)</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<h3 id="智能类型转换"><a href="#智能类型转换" class="headerlink" title="智能类型转换"></a>智能类型转换</h3><p>在java中，在调用一个是其他类型的对象时，若是object对象，我们需要先转成对应的类型，而后再处理，但是在kotlin不需要，只要判断是某个类型后，可以直接调用这个类具有的属性。<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">interface Expr</div><div class="line">class Num(val value: Int) : Expr        // 1 带有一个属性、值而且实现了Expr接口的简单的值对象类</div><div class="line">class Sum(val left: Expr, val right: Expr) : Expr    // 2 求和操作的参数可以是任意的Expr：Num对象或者其他的Sum对象</div><div class="line"></div><div class="line"></div><div class="line">fun eval(e: Expr): Int &#123;</div><div class="line">    if (e is Num) &#123;</div><div class="line">        val n = e as Num        // 1 显式的Num类型转换是多余的 </div><div class="line">        return e.value</div><div class="line">    &#125;</div><div class="line">    if (e is Sum) &#123;</div><div class="line">        return eval(e.right) + eval(e.left)    // 2 变量e是智能类型转换</div><div class="line">    &#125;</div><div class="line">    throw IllegalArgumentException("Unknown expression")</div><div class="line">&#125;</div><div class="line"></div><div class="line">fun main(args: Array&lt;String&gt;) &#123;</div><div class="line">    println(eval(Sum(Sum(Num(1), Num(2)), Num(4))))</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

            </article>
            
                <div class="share">
                    <!--开启分享-->
<div class="share-component" data-disabled="google,twitter,facebook" data-description="kotlin的学习笔记。"></div>

<script src="/js/share.min.js"></script>

                </div>    
            

            
            
                
<div class="comments">
    <div id="container"></div>
        <script src="/js/gitment.browser.js"></script>
         <script>
            var gitment = new Gitment({
                id: '/2018/02/26/learning-kotlin-1/',
                owner: 'undefined',
                repo: 'undefined',
                oauth: {
                    client_id: "undefined",
                    client_secret: "undefined",
                }
            })
        gitment.render('container')
        </script>
</div>

            

        </div>
        <div class="column one-fourth">
            
                
                


<h3>Post Directory</h3>

<div id="post-directory-module">
	<section class="post-directory">
		<p><strong class="toc-title">文章目录</strong></p>
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#基础"><span class="toc-text">基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#函数-变量"><span class="toc-text">函数 变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类和属性"><span class="toc-text">类和属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#枚举"><span class="toc-text">枚举</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#when"><span class="toc-text">when</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#带参数"><span class="toc-text">带参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不带参数"><span class="toc-text">不带参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#智能类型转换"><span class="toc-text">智能类型转换</span></a></li></ol></li></ol></li></ol>
	</section>
</div>
            
        </div>
    </div>
</section>

<footer class="container">
    <div class="site-footer" role="contentinfo">
        <div class="copyright left mobile-block">
                © 2016
                <span title="yumemor">yumemor</span>
                <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a>
        </div>

        <ul class="site-footer-links right mobile-hidden">
            <li>
                <a href="javascript:window.scrollTo(0,0)" >TOP</a>
            </li>
        </ul>

        <a href="https://github.com/yumemor/hexo-theme-primer" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>

        <ul class="site-footer-links mobile-hidden">
            
                  
                  <li>
                    <a href="/"  title="Home">Home</a>
                  </li>
            
                  
                  <li>
                    <a href="/categories/"  title="Category">Category</a>
                  </li>
            
                  
                  <li>
                    <a href="/open-source/"  title="Open-Source">Open-Source</a>
                  </li>
            
                  
                  <li>
                    <a href="/message/"  title="Message">Message</a>
                  </li>
            
            <li>
                <a href="/atom.xml">
                    <span class="octicon octicon-rss" style="color:orange;"></span>
                </a>
            </li>
        </ul>
    </div>
</footer>

		<script src="/js/geopattern.js"></script>
		<script src="/js/highlight.pack.js"></script>
		<script src="/lib/fancybox/jquery.fancybox-1.3.4.pack.js"></script>

		
			<script src="/js/toc.js"></script>
		

		<script src="/js/index.js"></script>

		 <script src="/js/popular_repo.js"></script> 

	</body>
</html>
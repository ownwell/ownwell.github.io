<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!--Description-->
  
  <meta name="description" content="不抛弃，不放弃，做有意义的事！">
  

  <!--Author-->
  
  <meta name="author" content="一起分享技术">
  

  <!--Open Graph Title-->
  
      <meta property="og:title" content="Kotlin学习01-基础"/>
  
  <!--Open Graph Description-->
  
      <meta property="og:description" content="不抛弃，不放弃，做有意义的事！" />
  
  <!--Open Graph Site Name-->
  <meta property="og:site_name" content="cyning"/>
  <!--Type page-->
  
      <meta property="og:type" content="article" />
  
  <!--Page Cover-->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- Title -->
  
  <title>Kotlin学习01-基础 - cyning</title>


  <link rel="shortcut icon" href="https://hexo.io/icon/favicon-96x96.png">

  <!-- Custom CSS/Sass -->
  <link rel="stylesheet" href="/css/style.css">

  <!----------------------------
  https://github.com/GallenHu/hexo-theme-Daily

 _____            _   _
|  __ \          (_) | |
| |  | |   __ _   _  | |  _   _
| |  | |  / _` | | | | | | | | |
| |__| | | (_| | | | | | | |_| |
|_____/   \__,_| |_| |_|  \__, |
                          __/ |
                         |___/

    --------------------------->

</head>


<body>

  <!-- Nav -->
  <header class="site-header">
  <div class="header-inside">
    <div class="logo">
      <a href="/" rel="home">
        
        <img src="https://hexo.io/logo.svg" alt="cyning" height="60">
        
      </a>
    </div>
    <!-- Navigation -->
    <nav class="navbar">
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse">
        <ul class="navbar-nav">
          
          
            <li>
              <a href="/.">
                
                  首页
                
              </a>
            </li>
          
            <li>
              <a href="/archives">
                
                  文章
                
              </a>
            </li>
          
            <li>
              <a href="/about">
                
                  关于
                
              </a>
            </li>
          
            <li>
              <a href="/atom.xml">
                
                  订阅
                
              </a>
            </li>
          
        </ul>
      </div>
      <!-- /.navbar-collapse -->
    </nav>
    <div class="button-wrap">
      <button class="menu-toggle">Primary Menu</button>
    </div>
  </div>
</header>


  <!-- Main Content -->
  <div class="content-area">
  <div class="post">
    <!-- Post Content -->
    <div class="container">
      <article>
        <!-- Title date & tags -->
        <div class="post-header">
          <h1 class="entry-title">
            Kotlin学习01-基础
            
          </h1>
          <p class="posted-on">
          2018-02-26
          </p>
          <div class="tags-links">
            
              
                <a href="/tags/Kotlin/" rel="tag">
                  Kotlin
                </a>
              
            
          </div>
        </div>
        <!-- Post Main Content -->
        <div class="entry-content">
          <p>kotlin的学习笔记，先做记录，以后再整理<br><img src="http://7xj9f0.com1.z0.glb.clouddn.com/ce3ceb9a98080ada154107eaefa21fcd.png-blog" alt=""><br><a id="more"></a></p>
<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="函数-变量"><a href="#函数-变量" class="headerlink" title="函数 变量"></a>函数 变量</h2><ol>
<li>main函数可以独立于class</li>
<li><p>静态函数<br>类的静态函数，需要通过将函数放入到companion object的大括号内。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Static</span> </span>&#123;</div><div class="line">    companion object &#123;</div><div class="line">       <span class="function">fun <span class="title">add</span><span class="params">( a: Int,  b:Int)</span>:Int </span>=  (</div><div class="line">             a + b</div><div class="line">               )</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    Static.add(<span class="number">1</span>,<span class="number">2</span>);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>字符串模板</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function">fun <span class="title">main</span><span class="params">(args: Array&lt;String&gt;)</span> </span>&#123;</div><div class="line">    println(<span class="string">"Hello, $&#123;if (args.size &gt; 0) args[0] else "</span>someone<span class="string">"&#125;!"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>常量用val，变量用var </p>
<h2 id="类和属性"><a href="#类和属性" class="headerlink" title="类和属性"></a>类和属性</h2></li>
<li><p>自定义的获取器</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">class Rectangle(val height: Int, val width: Int) &#123;</div><div class="line">    val isSquare: Boolean</div><div class="line">        get() &#123;    // 属性的获取函数声明</div><div class="line">            return height == width</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Kotlin源代码布局</p>
<ol>
<li>Kotlin并没有在导入类和函数之间做区别,可以直接import方法，类似python和ReactJs的用法。</li>
<li>可以把多个类放到同一个文件中并且可以为文件选择任意的名字，弱化了包的概念</li>
</ol>
</li>
</ol>
<h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><p>枚举和java中的有很大的相似之处，可以自己定义参数。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">enum</span> class <span class="title">Color</span><span class="params">(val r :Int, val g :Int, val b :Int)</span> </span>&#123;<span class="comment">// 1 声明枚举常量的属性</span></div><div class="line">    RED(<span class="number">255</span>, <span class="number">0</span>, <span class="number">9</span>), ORANGE(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="comment">// 2 当每个常量被创建时指定属性值</span></div><div class="line"></div><div class="line">    YELLOW(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>), GREEN(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), BLUE(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>),</div><div class="line"></div><div class="line">    INDIGO(<span class="number">75</span>, <span class="number">0</span>, <span class="number">130</span>), VIOLET(<span class="number">238</span>, <span class="number">130</span>, <span class="number">238</span>); <span class="comment">// 3 分号（;）在这里是必须的</span></div><div class="line"></div><div class="line">    <span class="function">fun <span class="title">rgb</span><span class="params">()</span> </span>= (r * <span class="number">256</span> + g) * <span class="number">256</span> + b        <span class="comment">// 4 在枚举类中定义了一个方法</span></div></pre></td></tr></table></figure></p>
<p>不同之处在于：</p>
<ol>
<li>enum class 来标识是枚举</li>
<li>在枚举中的常量，需要用分号隔开，kotlin中唯一一处需要必须用分开的地方<h2 id="when"><a href="#when" class="headerlink" title="when"></a>when</h2>when在处理枚举时，有点类似于java的switch-case，不过在kotlin中可以直接使用表达式函数。</li>
</ol>
<h3 id="带参数"><a href="#带参数" class="headerlink" title="带参数"></a>带参数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"> <span class="function">fun <span class="title">getMnmonic</span><span class="params">(color: Color)</span> </span>=        <span class="comment">// 1 直接返回一个when表达式</span></div><div class="line">            when (color) &#123;                    <span class="comment">// 2 如果颜色等于枚举常量，返回对应的字符串</span></div><div class="line">                Color.RED -&gt; <span class="string">"Richard"</span></div><div class="line">                Color.ORANGE -&gt; <span class="string">"Of"</span></div><div class="line">                Color.YELLOW -&gt; <span class="string">"York"</span></div><div class="line">                Color.GREEN -&gt; <span class="string">"Grave"</span></div><div class="line">                Color.BLUE -&gt; <span class="string">"Battle"</span></div><div class="line">                Color.INDIGO -&gt; <span class="string">"In"</span></div><div class="line">                Color.VIOLET -&gt; <span class="string">"Vain"</span></div><div class="line">                </div><div class="line">                <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> Exception(<span class="string">"Dirty color"</span>)  <span class="comment">// 3 如果没有一个分支被匹配，将执行该语句</span></div><div class="line">            &#125;</div><div class="line"></div><div class="line">`</div></pre></td></tr></table></figure>
<p>对应多个条件满足同一个返回结果，可以：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Color.RED, Color.ORANGE, Color.YELLOW -&gt; <span class="string">"warm"</span></div></pre></td></tr></table></figure></p>
<p>还有一个分支是默认分支，可以通过else的方式返回。</p>
<h3 id="不带参数"><a href="#不带参数" class="headerlink" title="不带参数"></a>不带参数</h3><p>对于多个参数的，每次都要写参数，会很多余，可以直接不用参数。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">when &#123;    <span class="comment">// 不带参数的when</span></div><div class="line">       (c1 == RED &amp;&amp; c2 == YELLOW) ||</div><div class="line">       (c1 == YELLOW &amp;&amp; c2 == RED) -&gt;</div><div class="line">           ORANGE</div><div class="line"></div><div class="line">       (c1 == YELLOW &amp;&amp; c2 == BLUE) ||</div><div class="line">       (c1 == BLUE &amp;&amp; c2 == YELLOW) -&gt;</div><div class="line">           GREEN</div><div class="line"></div><div class="line">       (c1 == BLUE &amp;&amp; c2 == VIOLET) ||</div><div class="line">       (c1 == VIOLET &amp;&amp; c2 == BLUE) -&gt;</div><div class="line">           INDIGO</div><div class="line"></div><div class="line">       <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> Exception(<span class="string">"Dirty color"</span>)</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<h3 id="智能类型转换"><a href="#智能类型转换" class="headerlink" title="智能类型转换"></a>智能类型转换</h3><p>在java中，在调用一个是其他类型的对象时，若是object对象，我们需要先转成对应的类型，而后再处理，但是在kotlin不需要，只要判断是某个类型后，可以直接调用这个类具有的属性。<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">interface Expr</div><div class="line">class Num(val value: Int) : Expr        // 1 带有一个属性、值而且实现了Expr接口的简单的值对象类</div><div class="line">class Sum(val left: Expr, val right: Expr) : Expr    // 2 求和操作的参数可以是任意的Expr：Num对象或者其他的Sum对象</div><div class="line"></div><div class="line"></div><div class="line">fun eval(e: Expr): Int &#123;</div><div class="line">    if (e is Num) &#123;</div><div class="line">        val n = e as Num        // 1 显式的Num类型转换是多余的 </div><div class="line">        return e.value</div><div class="line">    &#125;</div><div class="line">    if (e is Sum) &#123;</div><div class="line">        return eval(e.right) + eval(e.left)    // 2 变量e是智能类型转换</div><div class="line">    &#125;</div><div class="line">    throw IllegalArgumentException("Unknown expression")</div><div class="line">&#125;</div><div class="line"></div><div class="line">fun main(args: Array&lt;String&gt;) &#123;</div><div class="line">    println(eval(Sum(Sum(Num(1), Num(2)), Num(4))))</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

        </div>
      </article>
    </div>
    <!-- Comments -->
    <div class="container">
      
<section id="comment">
  <!-- <h1 class="title">Comments</h1> -->

  
</section>


    </div>
    <!-- Pre or Next -->
    <div class="nav-links">
      
        <div class="nav-previous">
          <a href="/2018/03/01/kotlin-learning-02/" rel="prev"><span class="meta-arraw meta-arraw-left"></span> Older Posts</a>
        </div>
      
      
        <div class="nav-next">
          <a href="/2018/02/22/dog-year-plain/" rel="prev">Newer Posts <span class="meta-arraw meta-arraw-right"></span></a>
        </div>
      
    </div>

  </div>
</div>


  <!-- Footer -->
  <!-- Footer-widgets -->
<div class="footer-widgets">
  <div class="row inside-wrapper">
    <div class="col-1-3">
      <aside>
        <h1 class="widget-title">关于本站</h1>
        <div class="custom-widget-content">
          
          不抛弃，不放弃，做有意义的事！
        </div>
      </aside>
    </div>
    <div class="col-1-3">
      <aside>
        <h1 class="widget-title">Contact</h1>
        <div class="widget-text">
          
            
              <a href="https://github.com/ownwell" class="icon icon-github" target="_blank">github</a>
            
              <a href="http://weibo.com/ownwell" class="icon icon-weibo" target="_blank">weibo</a>
            
              <a href="mailto:ownwell@126.com" class="icon icon-mail" target="_blank">mail</a>
            
          
        </div>
      </aside>
    </div>
    <div class="col-1-3">
      <aside>
        <h1 class="widget-title">Search</h1>
        <div class="widget-text">
          <form onSubmit="return appDaily.submitSearch('')">
            <p>
              <input type="text" placeholder="search..." id="homeSearchInput">
            </p>
            <!-- <input type="submit" value="GO"> -->
          </form>
        </div>
      </aside>
    </div>
  </div>
</div>
<!-- Footer -->
<footer class="site-info">
  <p>
    <span>cyning &copy; 2018</span>
    
      <span class="split">|</span>
      <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> with Theme <a href="https://github.com/GallenHu/hexo-theme-Daily" target="_blank">Daily</a></span>
    
  </p>
</footer>


  <!-- After footer scripts -->
  <!-- scripts -->
<script src="/js/app.js"></script>





</body>

</html>
